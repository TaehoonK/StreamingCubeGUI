<!DOCTYPE html>
<html>
<head>
    <!--<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Continuous Query 3D</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/streamOLAPGUI.css">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <script src="scripts/jquery-3.1.1.js"></script>
    <!-- Add for slider -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <!-- END -->

    <!-- Add for chart -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <!-- END -->

    <style>
        #divMapLocation {width:100%; height:400px; clear:both; border:solid 1px white;}
    </style>

</head>

<body class="w3-light-grey" onload="initializeSubmitQuery();">

<!-- Top container -->
<div style="width:100%; display:table; position:fixed; clear: left;">
    <div style="display:table-row;" >
        <div id="menu-top" style="width:85%; display:table-cell;">
            <ul>
                <li><a class="active" href="#secSubmitQuery">Continuous Query 3D System</a></li>
            </ul>
        </div>
        <div style="width:15%; display:table-cell; background-color: #FFF; vertical-align:middle; color: white;">
            <a href="https://www.aist.go.jp/index_en.html" target="_blank"><img src="images/aist_logo.png" alt="AIST Logo" height="50px" width="180px">
            </a>
        </div>
    </div>
</div>
<br><br>

<!-- Body OLAP Analysis-->
<section id="secOLAPAnalysis" style="width: 100%; height:95%;">
    <div id="divMain" class=blackBorder style="width: 100%; height:100%; display: table;">

        <!-- Top Menu Bar-
        <div id= "divMenuBar" style="display:table-row; height:7%;" >
            <div id="throbberDiv" align="center" style="width:15%; display:table-cell; vertical-align:middle; border-style: groove; border-width: 0px 5px 5px 0px;">
                <table cellspacing="0px" cellpadding="5px" border=0px>
                    <tr>
                        <td><img src="images/aist_logo.png" alt="AIST Logo" height="70px" width="130px"></td>
                    <tr>
                </table>
            </div>
        </div>
        ->
        <!-- Main Body -->
        <div id="divBody" style="display: table-row; height:95%;">

            <!-- OLAP Operations left bar -->
            <div id="divOLAPOperations" style="width:15%; height:100%; overflow:scroll; display:table-cell; vertical-align: top; border-style: groove; border-width: 0px 5px 0px 0px;">
                <table style="width:100%;" cellspacing="0" cellpadding="3px">
                    <tr>
                        <td width = "15%" align="center">
                            <label id="lblOLAPOperations" class="sideHeading">Query Generation</label>
                        </td>
                    </tr>
                    <tr>
                        <td width = "15%">
                            <label id="lblDrillDownHeading" class=labelHeading>Data Streams</label><br>
                            <select name="drilldownList"  id="drilldownList" onchange="executeQuery(this.id)" style="width:99%">
                                <option value="drilldownListDefault" selected>Data Streams</option>
                                <option value="001">Drive 001</option>
                                <option value="001">Drive 002</option>
                                <option value="001">Drive 003</option>
                                <option value="001">Drive 004</option>
                                <option value="001">Drive 005</option>
                                <option value="001">Drive 006</option>
                                <option value="001">Drive 007</option>
                                <option value="001">Drive 008</option>
                                <option value="001">Drive 009</option>
                                <option value="001">Drive 010</option>
                                <option value="001">Drive 011</option>
                                <option value="001">Drive 012</option>
                                <option value="001">Drive 013</option>
                                <option value="001">Drive 014</option>
                                <option value="001">Drive 015</option>
                                <option value="001">Drive 016</option>
                                <option value="001">Drive 017</option>
                                <option value="001">Drive 018</option>
                                <option value="001">Drive 019</option>
                                <option value="001">Drive 020</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td width = "15%">
                            <label id="objectTypeHeading" class=labelHeading>Object Types</label><br>
                            <!--<select name="rollupList"  id="rollupList" onchange="executeQuery(this.id)" style="width:99%">
                                <option value="rollupListDefault" selected>Rollup</option>-->
                            <input type="checkbox" id="carCheckbox" name="checkboxButton" value="1"/>
                            <label for="carCheckbox">Car</label><br>
                            <input type="checkbox" id="cyclistCheckbox" name="checkboxButton" value="2"/>
                            <label for="cyclistCheckbox">Cyclist</label><br>
                            <input type="checkbox" id="pedestrianCheckbox" name="checkboxButton" value="3"/>
                            <label for="pedestrianCheckbox">Pedestrian</label><br>
                            <!--</select>-->
                        </td>
                    </tr>
                    <tr>
                        <td width = "15%">
                            <label id="panelHeading" class ="labelHeading">Prediction Accuracy</label><br>
                            <!--<select name="accuracySliding"  id="accuracySliding" onchange="executeQuery(this.id)" style="width:99%">-->
                            <!-- <input type="range" name="accuracySliding" class="slider" value="0.5" min="0" max="1" step="0.01">
                            <span class="slider_label"></span> -->
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div id="accuracySliding"></div>
                            <!-- <label for="amount">Min~Max : </label> -->
                            <input type="text" id="amount" class="slider" readonly style="border: 0; font-size: 15px; color: #333; width: 50%; background-color: #f1f1f1; text-align: center;">
                        </td>
                    </tr>
                    <tr>
                        <td width = "15%">
                            <label id="windowHeading" class ="labelHeading">Window Size (Meter)</label><br>
                            <!--
                            <select name="accuracySliding"  id="accuracySliding" onchange="executeQuery(this.id)" style="width:99%">-->
                            <!-- <input type="range" name="windowSliding" class="slider" value="500" min="100" max="1000" step="50">
                            <span class="slider_label"></span> -->

                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div id="windowSliding"></div>
                            <!-- <label for="sizeWindow">Slide~Side : </label> -->
                            <input type="text" id="sizeWindow" class="slider" readonly style="border: 0; font-size: 15px; color: #333; width: 50%; background-color: #f1f1f1; text-align: center;">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button id="btnSubmit" onclick="executeQuery(this.id)" class="w3-btn w3-light-grey" style="border: 1px solid #AAA; width: 90%;">Submit Query</button>
                            <button id="btnStop" onClick="executeStop()" class="w3-btn w3-light-grey" style="border: 1px solid #AAA; width: 90%;">Stop</button>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Right body of OLAP Operations -->
            <div id="divDisplay" style="width:100%; height:90%; display:table-cell; overflow:scroll; float:left;">
                <table style="width:100%; height:100%;" cellspacing="0" cellpadding="3px">
                    <tr>
                        <td height = "50%" width = "50%">
                            <div id="divTable" style="width:100%; height:100%; display:table-cell; overflow:scroll; float:left;"></div></td>
                        <td height = "50%" width = "50%">
                            <!-- onclick="changeChartType(this) -->
                            <div style="width:100%; height:100%; display:table-cell; float:left;">
                                <button id="btnBar" value="bar"  class="w3-btn w3-light-grey" style="border: 1px solid #AAA; width: 25%;">TIME</button>
                                <button id="btnPie" value="pie"  class="w3-btn w3-light-grey" style="border: 1px solid #AAA; width: 25%;">WINDOW</button>
                                <br>
                                <div style="width:100%; height:95%;display:table-cell; overflow:scroll; float:left;">
                                    <div id="divSimpleChart" style="width:100%; height:95%;"></div>
                                </div>
                            </div>


                        </td>
                    </tr>
                    <tr>
                        <!--					<td height = "50%"><div id="divSummaryWRTTimeChart" style="width:100%; height:100%; display:table-cell; overflow:scroll; float:left; "></div></td>-->
                        <td height = "50%">
                            <div id="divMapLocation" style="width:100%; height:100%; display:table-cell; overflow:scroll; float:left; ">
                            </div>
                        </td>
                        <!--					<td height = "50%"><div id="divTimeSeriesChart" style="width:100%; height:100%; display:table-cell; overflow:scroll; float:left;"></div></td>-->
                        <td height = "50%">
                            <div id="divImageDisplay" style="width:100%; height:100%; display:table-cell; overflow:scroll; float:left;">
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</section>
<br><br>

<script src="scripts/graphs.js" type ="text/javascript"></script>
<script src="scripts/table.js" type ="text/javascript"></script>
<!--<script src="scripts/common.js" type ="text/javascript"></script>-->
<script src="scripts/cq3d_common.js" type ="text/javascript"></script>
<script src="scripts/canvasjs-1.7.0/canvasjs.min.js" type="text/javascript"></script>
<script src="scripts/throbber.js" type ="text/javascript"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyADNaZS34NLhr3mXCAbKqKT2IfKPLaVuIk" ></script>

<script>
    $(function(){
       $('#accuracySliding').slider({
               range: true,
               min: 0,
               max: 1,
               step: 0.01,
               values: [0, 0.5],
               slide: function( event, ui) {
                   $('#amount').val(ui.values[0] + " ~ " + ui.values[1]);
               }
           });
           $( "#amount" ).val( $( "#accuracySliding" ).slider( "values", 0 ) + " ~ " + $( "#accuracySliding" ).slider( "values", 1 ) );

       $('#windowSliding').slider({
               range: true,
               min: 100,
               max: 600,
               step: 50,
               values: [100, 300],
               slide: function( event, ui) {
                   $('#sizeWindow').val(ui.values[0] + " ~ " + ui.values[1]);
               }
           });
           $( "#sizeWindow" ).val( $( "#windowSliding" ).slider( "values", 0 ) + " ~ " + $( "#windowSliding" ).slider( "values", 1 ) );
   })
   </script>
</body>
</html>